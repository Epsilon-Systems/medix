jQuery(document).ready(function(jQuery){$=jQuery;var stringVersionJs="";"undefined"!=typeof nbExtensionVersion&&(stringVersionJs="?v="+nbExtensionVersion);var queue=["https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.js",baseNameUrl+"libraries/noboss/assets/plugins/stylesheets/css/jquery-confirm.min.css",baseNameUrl+"libraries/noboss/assets/util/js/min/reactivatesubformfields.min.js",baseNameUrl+"libraries/noboss/assets/util/js/min/fields.min.js"].map(function(script){return"js"===script.slice(-2)&&0===jQuery("script[src*='"+script.slice(-30)+"']").length?jQuery("head").append('<script type="text/javascript" src="'+(-1!=script.indexOf("noboss")?script+stringVersionJs:script)+'"><\/script>'):"css"===script.slice(-3)&&0===jQuery("link[href*='"+script.slice(-30)+"']").length?jQuery("head").append('<link rel="stylesheet" href="'+(-1!=script.indexOf("noboss")?script+stringVersionJs:script)+'"/>'):void 0});jQuery.when.apply(null,queue).done(function(){var nTimer;nTimer=setInterval(function(){void 0!=jQuery().confirm&&(clearInterval(nTimer),nobosssubform.CONSTRUCTOR())},50)})});var nobosssubform={CONSTRUCTOR:function(){jconfirm.defaults={draggable:!1,useBootstrap:!1,columnClass:"modal-confirm-resposive",animateFromElement:!1},nobosssubform.activateItemCollapse(),nobosssubform.activateCollapseButtons(),jQuery('[data-id="noboss-subform-reset"][data-multiple="true"][data-show="true"]').each(function(){nobosssubform.validateButtonDisplay(jQuery(this))}),jQuery('[data-id="noboss-subform-reset"][data-multiple="false"]').each(function(){nobosssubform.hideMultipleButtons(jQuery(this))}),jQuery("body").on("change",'[data-id="theme-modal-input"]',function(){jQuery('[data-id="noboss-subform-reset"][data-show="false"]').each(function(){jQuery(this).hide()}),nobosssubform.activateCollapseButtons(),nobosssubform.toggleCollapseAll("shrink")}),jQuery(document).on("subform-row-remove",function(event,row){var resetButton=jQuery(row).parents("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").siblings('[data-id="noboss-subform-reset"]');jQuery(row).remove(),!0===resetButton.data("show")&&nobosssubform.validateButtonDisplay(resetButton)}),nobosssubform.actions=function(row){void 0!=blockfields&&void 0!=nobosslicense.licenseInfo&&blockfields.blocksLicense("subform");var resetButton=jQuery(row).parents("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").first().find('[data-id="noboss-subform-reset"]').first();!0===resetButton.data("show")&&resetButton.show();var mainSection=jQuery("[data-subform-collapse-wrapper], [data-subform-single-wrapper]");nbfields.tooltips(mainSection),resetButton.closest("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").find('[data-id="noboss-collapse-button"]').show(),!1===resetButton.data("multiple")&&nobosssubform.hideMultipleButtons(resetButton),nobosssubform.activateItemCollapse(row)},void 0!==majorVersionJoomla&&"4"!=majorVersionJoomla?jQuery(document).on("subform-row-add",function(event,row){nobosssubform.actions(row)}):document.addEventListener("joomla:updated",function(_ref){var row=_ref.target;nobosssubform.actions(row)}),util.subformRowAddListener(),jQuery("section#content").on("click",'[data-id="noboss-subform-reset"]',nobosssubform.confirmModal),jQuery(window).on("change",function(){nobosssubform.changeSubformLabel()}),jQuery(document).ready(function(jQuery){nobosssubform.changeSubformLabel(),nobosssubform.toggleCollapseAll("shrink")})},changeSubformLabel:function(){var subformLabelElement=jQuery("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").parent().prev(),subformLabelClass="";subformLabelClass=0!==jQuery(subformLabelElement).text().trim().length?"subform-label--visible":"subform-label--invisible",jQuery(subformLabelElement).addClass(subformLabelClass)},activateItemCollapse:function(row){1!=jQuery(row).data("activated")&&(void 0===row?jQuery("[data-noboss-collapse] .noboss-collapse--wrapper").off("click").on("click",nobosssubform.toggletCollapse):(jQuery(row).find("[data-noboss-collapse] .noboss-collapse--wrapper").off("click").on("click",nobosssubform.toggletCollapse),jQuery(row).data("activated",!0)))},toggletCollapse:function(){var parentGroup=jQuery(this).parent().parent();"grow"===jQuery(parentGroup).data("collapse")?nobosssubform.collapseItems(parentGroup):nobosssubform.expandItems(parentGroup)},activateCollapseButtons:function(){var collapseButtons=jQuery("[data-id=noboss-collapse-button]");jQuery(collapseButtons).each(function(){jQuery(this).on("click",function(){var collapseToggle=jQuery(this).data("toggle"),closestSubformWrapper=jQuery(this).closest("[data-subform-collapse-wrapper], [data-subform-single-wrapper]");nobosssubform.toggleCollapseAll(collapseToggle,closestSubformWrapper)})})},toggleCollapseAll:function(collapseToggle,subformWrapper){var currentSubformWrapper=subformWrapper;void 0===subformWrapper&&(currentSubformWrapper=jQuery("[data-subform-collapse-wrapper], [data-subform-single-wrapper]")),jQuery(currentSubformWrapper).find(".subform-repeatable-group").each(function(){"grow"==collapseToggle?"shrink"===jQuery(this).data("collapse")&&nobosssubform.expandItems(jQuery(this)):"shrink"==collapseToggle&&"grow"===jQuery(this).data("collapse")&&nobosssubform.collapseItems(jQuery(this))})},expandItems:function(parentGroup){jQuery(parentGroup).children(".hidden").removeClass("hidden").clearQueue().slideDown(),jQuery(parentGroup).find(".noboss-collapse__title").text(""),jQuery(parentGroup).find(".noboss-collapse__icon").removeClass("rotate-icon"),jQuery(parentGroup).data("collapse","grow"),jQuery(parentGroup).toggleClass("shrink grow"),void 0!==majorVersionJoomla&&majorVersionJoomla},collapseItems:function(parentGroup){jQuery(parentGroup).children().not('[style*="display: none"], .noboss-collapse, .btn-toolbar').clearQueue().slideUp("fast",function(){jQuery(this).addClass("hidden")}),"undefined"!=typeof nobossSubformCustom?nobossSubformCustom.updateCollapseTitle(parentGroup):nobosssubform.updateCollapseTitle(parentGroup),jQuery(parentGroup).find(".noboss-collapse__icon").addClass("rotate-icon"),jQuery(parentGroup).data("collapse","shrink"),jQuery(parentGroup).toggleClass("shrink grow")},updateCollapseTitle:function(parentGroup){var collapseLabel=jQuery(parentGroup).closest("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").find("[data-collapse-label]").data("collapse-label");if(collapseLabel){var subformGroup=jQuery(parentGroup).data("group"),collapseTitle=jQuery(parentGroup).find("[for$="+subformGroup+"__"+collapseLabel+"]").text();collapseTitle=collapseTitle.replace("*","");var collapseValueElement=jQuery(parentGroup).find("[id$="+subformGroup+"__"+collapseLabel+"]"),collapseValue=jQuery(collapseValueElement).val();jQuery(parentGroup).closest("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").find("[data-is-editor]").data("is-editor")&&(collapseValue=jQuery(collapseValueElement).parent().find("iframe").contents().find("body").text()),void 0!==collapseValue&&(0===collapseValue.trim().length&&(collapseValue=jQuery("[data-collapse-default-value]").data("collapse-default-value")),jQuery(parentGroup).find(".noboss-collapse__title").text(collapseTitle+": "+collapseValue))}},addSubform:function(subform){void 0!==majorVersionJoomla&&"3"==majorVersionJoomla?subform.find(".btn-group").find("a.group-add, .group-add").first().click():subform.find("joomla-field-subform")[0].addRow("")},confirmModal:function(e){e.preventDefault();var resetButton=jQuery(this),min=resetButton.data("min"),multiple=resetButton.data("multiple"),itemsWrap=resetButton.closest("[data-subform-collapse-wrapper], [data-subform-single-wrapper]"),subforms=itemsWrap.find('[data-group^="'+resetButton.data("name")+'"]');jQuery.confirm({title:Joomla.JText._("LIB_NOBOSS_FIELD_NOBOSSSUBFORM_ALERT_MESSAGE_TITLE"),content:Joomla.JText._("LIB_NOBOSS_FIELD_NOBOSSSUBFORM_ALERT_MESSAGE_CONTENT"),type:"blue",closeIcon:"cancel",escapeKey:"cancel",buttons:{cancel:{keys:["esc"],text:Joomla.JText._("LIB_NOBOSS_FIELD_NOBOSSMODAL_MODAL_CONFIRM_CANCEL_BUTTON")},confirm:{text:Joomla.JText._("LIB_NOBOSS_FIELD_NOBOSSMODAL_MODAL_CONFIRM_CONFIRM_BUTTON"),btnClass:"btn-blue",keys:["enter"],action:function(){if(multiple){if(jQuery(subforms).each(function(index,el){jQuery(el).find(".btn-group").find(".btn-danger").first().click()}),min)for(var i=0;i<min;i++)nobosssubform.addSubform(itemsWrap);nobosssubform.validateButtonDisplay(resetButton)}else nobosssubform.addSubform(itemsWrap),subforms=itemsWrap.find('[data-group^="'+resetButton.data("name")+'"]'),jQuery(subforms[0]).remove(),nobosssubform.hideMultipleButtons(resetButton)}}}})},validateButtonDisplay:function(button){var resetButton=button,collapseButtons=resetButton.closest("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").find('[data-id="noboss-collapse-button"]');0!=resetButton.closest("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").find('[data-group^="'+resetButton.data("name")+'"]').length?(resetButton.show(),collapseButtons.show()):(resetButton.hide(),collapseButtons.hide())},hideMultipleButtons:function(button){var resetButton=button;resetButton.siblings("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").find("div.btn-toolbar").hide(),resetButton.siblings("[data-subform-collapse-wrapper], [data-subform-single-wrapper]").addClass("clear-fix")}};