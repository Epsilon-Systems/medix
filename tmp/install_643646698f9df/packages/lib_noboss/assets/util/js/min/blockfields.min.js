jQuery(document).ready(function(jQuery){$=jQuery;var stringVersionJs="";"undefined"!=typeof nbExtensionVersion&&(stringVersionJs="?v="+nbExtensionVersion);var queue=[baseNameUrl+"libraries/noboss/assets/util/stylesheets/css/blockfields.min.css"].map(function(script){return"js"===script.slice(-2)&&0===jQuery("script[src*='"+script.slice(-30)+"']").length?jQuery("head").append('<script type="text/javascript" src="'+(-1!=script.indexOf("noboss")?script+stringVersionJs:script)+'"><\/script>'):"css"===script.slice(-3)&&0===jQuery("link[href*='"+script.slice(-30)+"']").length?jQuery("head").append('<link rel="stylesheet" href="'+(-1!=script.indexOf("noboss")?script+stringVersionJs:script)+'"/>'):void 0});jQuery.when.apply(null,queue).done(function(){blockfields.CONSTRUCTOR()})});var blockfields={CONSTRUCTOR:function(){blockfields.licensedataloaded=setInterval(function(){"undefined"!=typeof nobosslicense&&void 0!=nobosslicense.licenseInfo&&(clearInterval(blockfields.licensedataloaded),blockfields.blocksLicense("all"))},500)},blocksLicense:function(type){void 0!=nobosslicense.licenseInfo.data&&void 0!=nobosslicense.licenseInfo.data.fields_block&&""!=nobosslicense.licenseInfo.data.fields_block&&jQuery.each(nobosslicense.licenseInfo.data.fields_block.split(","),function(i,itemBlock){itemBlock=itemBlock.substr(1,itemBlock.length-2).split("][");var fieldBlock,subformBlock,modalBlock="",valueDefaultBlock="-1";if(("all"==type||"subform"==type)&&itemBlock.length>=3&&"subform"==itemBlock[0])subformBlock=itemBlock[1],fieldBlock=itemBlock[2],fieldBlock=jQuery('[data-base-name] .controls [name*="\\['+subformBlock+'\\]"][name*="\\['+fieldBlock+'\\]"]'),4==itemBlock.length&&(valueDefaultBlock=itemBlock[3]);else if(("all"==type||"subform-complete"==type)&&itemBlock.length>=2&&"subform-complete"==itemBlock[0])subformBlock=itemBlock[1],jQuery('[data-id="noboss-subform-reset"][data-name="'+subformBlock+'"], .subform-repeatable-wrapper [data-base-name="'+subformBlock+'"]:first, .controls [name*="\\['+subformBlock+'\\]"]').closest(".control-group").html("").before("<div class='alert blockfields blockfields__msg_subform'><span class='icon-minus-circle'> </span>"+Joomla.JText._("LIB_NOBOSS_BLOCK_FIELD_SUBFORM_HEADER")+"</div>"),jQuery('.noboss-subform-single[data-base-name="'+subformBlock+'"] .controls [name]').each(function(){jQuery(this).attr("data-modal-name")?(nobosslicense.licenseInfo.data.fields_block+="[modal-complete]["+jQuery(this).attr("data-modal-name")+"]",blockfields.modalTextBlock(jQuery(this).attr("data-modal-name"))):blockfields.blockField(jQuery(this),valueDefaultBlock)});else if(("all"==type||"modal"==type)&&itemBlock.length>=3&&"modal"==itemBlock[0])modalBlock=itemBlock[1],fieldBlock=itemBlock[2],fieldBlock=jQuery('.noboss-modal .nb-modal-content .controls [name="'+modalBlock+"\\["+fieldBlock+'\\]"]'),4==itemBlock.length&&(valueDefaultBlock=itemBlock[3]);else if(("all"==type||"modal-complete"==type)&&itemBlock.length>=2&&"modal-complete"==itemBlock[0])modalBlock=itemBlock[1],blockfields.modalTextBlock(modalBlock);else if("all"!=type&&"api"!=type||2!=itemBlock.length||"api"!=itemBlock[0]){if(("all"!=type&&"field"!=type||1!=itemBlock.length)&&2!=itemBlock.length)return;fieldBlock=itemBlock[0],fieldBlock=jQuery('.controls [name*="\\['+fieldBlock+'\\]"]'),2==itemBlock.length&&(valueDefaultBlock=itemBlock[1])}else{var elementApiConnect=jQuery('[name*="\\['+itemBlock[1]+'\\]"]').parent();blockfields.blockField(elementApiConnect.find("input[data-id=client_id]"),""),blockfields.blockField(elementApiConnect.find("input[data-id=client_secret]"),""),elementApiConnect.find(".apiconnection__btn-connect").attr("data-id","").css("opacity","0.4").css("pointer-events","none")}""!=fieldBlock&&void 0!=fieldBlock&&blockfields.blockField(fieldBlock,valueDefaultBlock)})},blockField:function(fieldBlock,valueDefaultBlock){(fieldBlock=fieldBlock.not("[readonly]")).prop("readonly",!0).css({"pointer-events":"none"}).off(),0==fieldBlock.closest(".control-group").find(".alert.not-include").length&&(void 0!==majorVersionJoomla&&"3"==majorVersionJoomla&&"hidden"!=fieldBlock.attr("type")&&fieldBlock.closest(".controls").css({float:"left","margin-left":"15px"}),fieldBlock.closest(".control-group").append("<div class='alert not-include blockfields blockfields__msg_field'><span class='icon-minus-circle'> </span>"+Joomla.JText._("LIB_NOBOSS_BLOCK_FIELD_SIDE_FIELD")+"</div>")),fieldBlock.parent().parent().hasClass("nb-editor")?("-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.val(valueDefaultBlock),fieldBlock.closest(".editor, .js-editor-tinymce").prepend('<div class="blockfields blockfields__editor"></div>').parent().find(".btn-toolbar, .toggle-editor").hide()):fieldBlock.hasClass("minicolors")||fieldBlock.parent().hasClass("clockpicker")||fieldBlock.parent().parent().hasClass("field-calendar")?("-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.val(valueDefaultBlock),fieldBlock.parent().find("span, button").attr("disabled",!0).css({"pointer-events":"none"}).off()):"radio"==fieldBlock.attr("type")?("-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.closest(".controls").find("input").each(function(){var input=jQuery(this);input.val()===valueDefaultBlock?(void 0!==majorVersionJoomla&&"3"==majorVersionJoomla&&(""===input.val()?input.parent().find('label[for="'+input.attr("id")+'"]').addClass("active btn-primary"):"0"===input.val()?input.parent().find('label[for="'+input.attr("id")+'"]').addClass("active btn-danger"):input.parent().find('label[for="'+input.attr("id")+'"]').addClass("active btn-success")),input.after('<input type="hidden" name="'+input.attr("name")+'" value="'+valueDefaultBlock+'">').trigger("change"),input.prop("checked",!0)):(void 0!==majorVersionJoomla&&"3"==majorVersionJoomla&&input.parent().find('label[for="'+input.attr("id")+'"]').attr("class","btn"),input.prop("checked",!1)),input.removeAttr("name")}),fieldBlock.prop("disabled",!0).parent().addClass("disabled").css({"pointer-events":"none"})):"checkbox"==fieldBlock.attr("type")?("-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.closest(".controls").find(".btn-group input").each(function(){var input=jQuery(this);input.val()===valueDefaultBlock?input.prop("checked",!0):input.prop("checked",!1)}),fieldBlock.prop("disabled",!0).parent().addClass("disabled").css({"pointer-events":"none"})):"range"==fieldBlock.attr("type")?("-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.val(valueDefaultBlock),fieldBlock.parent().find('[type="number"]').prop("readonly",!0).css({"pointer-events":"none"})):fieldBlock.is("select")?("-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&(fieldBlock.find("option").each(function(){var input=jQuery(this);input.val()==valueDefaultBlock?(input.attr("selected",!0),void 0!==majorVersionJoomla&&"3"==majorVersionJoomla&&fieldBlock.parent().find(".chzn-single span").html(input.text())):input.attr("selected",!1)}),fieldBlock.val(valueDefaultBlock),void 0!==majorVersionJoomla&&"3"==majorVersionJoomla&&fieldBlock.trigger("change").chosen()),void 0!==majorVersionJoomla&&"3"==majorVersionJoomla?(fieldBlock.parent().find(".chzn-container").addClass("chzn-disabled").off(),"multi-options-input"==fieldBlock.attr("data-id")&&fieldBlock.parent().find(".chzn-container input").prop("disabled",!0).css({"pointer-events":"none"})):(fieldBlock.after('<input type="hidden" name="'+fieldBlock.attr("name")+'" value="'+fieldBlock.val()+'">'),fieldBlock.attr("disabled",!0),fieldBlock.attr("multiple")&&fieldBlock.parent().css("background-color","#e8e8e8").find('[type="text"]').attr("disabled",!0))):fieldBlock.is("textarea")?(fieldBlock.closest(".controls").css({display:"contents"}),"-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.html(valueDefaultBlock)):"text"==fieldBlock.attr("type")?"-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.html(valueDefaultBlock):"-1"!=valueDefaultBlock&&void 0!=valueDefaultBlock&&fieldBlock.val(valueDefaultBlock)},modalTextBlock:function(modalName){var inputModal=jQuery('[name$="\\['+modalName+'\\]"][data-id="noboss-modal-input-hidden"][readonly!="readonly"]');inputModal.parent().parent().find("div").hasClass("alert")||(void 0!==majorVersionJoomla&&"3"==majorVersionJoomla?(inputModal.closest(".controls").css({float:"left","margin-left":"15px"}),inputModal.after("<div class='alert blockfields blockfields__msg_modal_btn'><span class='icon-minus-circle'> </span>"+Joomla.JText._("LIB_NOBOSS_BLOCK_FIELD_MODAL_COMPLETE_SIDE_FIELD")+"</div>")):inputModal.closest(".control-group").append("<div class='alert blockfields blockfields__msg_modal_btn'><span class='icon-minus-circle'> </span>"+Joomla.JText._("LIB_NOBOSS_BLOCK_FIELD_MODAL_COMPLETE_SIDE_FIELD")+"</div>"))}};